{"version":3,"sources":["service/apiFilmsService.js","components/FilmsGallery/FilmsGallery.module.css","images/oskar.jpg","components/Button/Button.module.css","components/FilmsGallery/FilmGalleryItem.js","components/FilmsGallery/FilmsGallery.js","components/Button/Button.js","components/ButtonToTop/ButtonToTop.module.css","components/ButtonToTop/ButtonToTop.js","pages/HomePage.js"],"names":["API_KEY","BASE_URL","fetchTrendingMovies","page","a","fetch","then","response","json","fetchDetailsMovie","movieId","fetchActorsMovie","fetchReviewsMovie","fetchImagesMovie","fetchTrailerMovie","fetchSimilarMovies","fetchPerson","personId","module","exports","FilmGalleryItem","id","filmId","poster","title","location","useLocation","foto","oskar","className","s","item","link","to","pathname","slugify","lower","strict","state","from","card","container","galleryImage","src","alt","FilmsGallery","films","length","gallery","map","poster_path","name","Button","text","type","onLoadMore","button","onClick","ButtonToTop","toTop","HomePage","useState","setFilms","setPage","error","setError","loading","setLoading","top","setTop","useEffect","FilmsApi","results","prevState","catch","finally","message","Loader","window","scrollTo","behavior"],"mappings":"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","file":"static/js/home-page.28df83b7.chunk.js","sourcesContent":["const API_KEY = 'b0b72ab6737091a10a9a2ef1ba934753';\r\nconst BASE_URL = 'https://api.themoviedb.org/3/';\r\n\r\nexport const fetchTrendingMovies = async (page) => {\r\n    return await fetch(`${BASE_URL}trending/movie/day?api_key=${API_KEY}&page=${page}`)\r\n        .then(response => response.json())\r\n};\r\n\r\nexport const fetchSearchMovie = async (query) => {\r\n    return await fetch(`${BASE_URL}search/movie?api_key=${API_KEY}&language=en-US&page=1&include_adult=false&query=${query}`)\r\n        .then(response => response.json())\r\n};\r\n\r\nexport const fetchDetailsMovie = async (movieId) => {\r\n    return await fetch(`${BASE_URL}movie/${movieId}?api_key=${API_KEY}&language=en-US`)\r\n        .then(response => response.json())\r\n};\r\n\r\nexport const fetchActorsMovie = async (movieId) => {\r\n    return await fetch(`${BASE_URL}movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`)\r\n        .then(response => response.json())\r\n};\r\n\r\nexport const fetchReviewsMovie = async (movieId) => {\r\n    return await fetch(`${BASE_URL}movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US`)\r\n        .then(response => response.json())\r\n};\r\n\r\nexport const fetchImagesMovie = async (movieId) => {\r\n    return await fetch(`${BASE_URL}movie/${movieId}/images?api_key=${API_KEY}&include_image_language=en,null`)\r\n        .then(response => response.json())\r\n};\r\n\r\nexport const fetchTrailerMovie = async (movieId) => {\r\n    return await fetch(`${BASE_URL}movie/${movieId}/videos?api_key=${API_KEY}&language=en-US`)\r\n        .then(response => response.json())\r\n};\r\n\r\nexport const fetchSimilarMovies = async (movieId) => {\r\n    return await fetch(`${BASE_URL}movie/${movieId}/similar?api_key=${API_KEY}&language=en-US&page=1`)\r\n        .then(response => response.json())\r\n};\r\n\r\nexport const fetchPerson = async (personId) => {\r\n    return await fetch(`${BASE_URL}person/${personId}?api_key=${API_KEY}&language=en-US`)\r\n        .then(response => response.json())\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"FilmsGallery_gallery__TpKcH\",\"link\":\"FilmsGallery_link__35r-i\",\"item\":\"FilmsGallery_item__1EsOV\",\"card\":\"FilmsGallery_card__3Fq-q\",\"container\":\"FilmsGallery_container__3XC10\",\"title\":\"FilmsGallery_title__198ex\"};","export default __webpack_public_path__ + \"static/media/oskar.0e877562.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3mGIQ\"};","import React from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport slugify from \"slugify\";\r\nimport PropTypes from 'prop-types';\r\nimport s from './FilmsGallery.module.css';\r\nimport oskar from '../../images/oskar.jpg'\r\n\r\nconst FilmGalleryItem = ({ id, filmId, poster, title }) => {\r\n    const IMAGE_URL = 'https://image.tmdb.org/t/p/w500';\r\n    const location = useLocation();\r\n    const foto = poster === null ? oskar : `${IMAGE_URL}${poster}`;\r\n    \r\n    return (\r\n        <li className={s.item}>\r\n            <Link className={s.link}\r\n                to={{\r\n                    pathname: `/movies/${slugify(`${title} ${id}`, { lower: true, strict: true })}`,\r\n                    state: { from: location }\r\n                }}>\r\n                <div className={s.card} id={filmId}>\r\n                    <div className={s.container}>\r\n                        <img\r\n                            className={s.galleryImage}\r\n                            src={foto}\r\n                            alt={title}\r\n                        />\r\n                    </div>\r\n                    <p className={s.title}>{title}</p>\r\n                </div>\r\n            </Link>\r\n        </li>\r\n    );\r\n};\r\n\r\nFilmGalleryItem.propTypes = {\r\n    id: PropTypes.number.isRequired,\r\n    filmId: PropTypes.number.isRequired,\r\n    poster: PropTypes.string,\r\n    title: PropTypes.string,\r\n};\r\n\r\nexport default FilmGalleryItem;","import React from 'react';\r\nimport FilmGalleryItem from './FilmGalleryItem';\r\nimport PropTypes from 'prop-types';\r\nimport s from \"./FilmsGallery.module.css\";\r\n\r\nconst FilmsGallery = ({ films }) => {\r\n    if (films.length === 0) {\r\n        return <h2>Sorry, we haven't films yet</h2>\r\n    }\r\n    return (\r\n        <ul className={s.gallery}>\r\n            {films.map(({ id, poster_path, title, name }) => (\r\n                <FilmGalleryItem\r\n                    key={id}\r\n                    id={id}\r\n                    poster={poster_path}\r\n                    filmId={id}\r\n                    title={title ?? name}\r\n                />\r\n                \r\n            ))}\r\n        </ul>\r\n    );\r\n}\r\n\r\nFilmsGallery.propTypes = {\r\n    films: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n            id: PropTypes.number.isRequired,\r\n            poster_path: PropTypes.string,\r\n            title: PropTypes.string,\r\n            name: PropTypes.string,\r\n        }).isRequired,\r\n    ).isRequired,\r\n};\r\n\r\nexport default FilmsGallery;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nconst Button = ({ text, type='button', onLoadMore=null }) => (\r\n  <button className={s.button} type={type} onClick={() => onLoadMore()}>\r\n    {text}\r\n  </button>\r\n);\r\n\r\nButton.propTypes = {\r\n  onLoadMore: PropTypes.func.isRequired,\r\n  text: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Button;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"ButtonToTop_button__20NyW\"};","import s from \"./ButtonToTop.module.css\";\r\nimport PropTypes from 'prop-types'\r\n\r\nconst ButtonToTop = ({toTop}) => (\r\n    <button\r\n        className={s.button}\r\n        type='button' \r\n        onClick={toTop}>\r\n    </button>\r\n);\r\n\r\nButtonToTop.propTypes = {\r\n    toTop: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default ButtonToTop;","import * as FilmsApi from '../service/apiFilmsService';\r\nimport { useState, useEffect } from 'react';\r\nimport FilmsGallery from \"../components/FilmsGallery\";\r\nimport Button from \"../components/Button\";\r\nimport ButtonToTop from \"../components/ButtonToTop\";\r\nimport Loader from \"../components/Loader\";\r\n\r\nconst HomePage = () => {\r\n    const [films, setFilms] = useState([]);\r\n    const [page, setPage] = useState(1);\r\n    const [error, setError] = useState(null);\r\n    const [loading, setLoading] = useState(false)\r\n    const [top, setTop] = useState(false)\r\n        \r\n    useEffect(() => {\r\n        setLoading(true)\r\n        FilmsApi.fetchTrendingMovies(page)\r\n            .then(({ results }) => \r\n                setFilms(prevState => [...prevState, ...results])\r\n            )\r\n            .catch(error => setError(error))\r\n          .finally(() => setLoading(false)); \r\n    }, [page]);\r\n\r\n    useEffect(() => {\r\n        if (page === 1) {\r\n           return\r\n        }\r\n         setTop(true)\r\n    }, [page]);\r\n    \r\n    const toTop = () => {\r\n        window.scrollTo({\r\n      top: 0,\r\n      behavior: 'smooth',\r\n    });\r\n    }\r\n    \r\n    return (\r\n        <>\r\n            <FilmsGallery films={films} />\r\n            {error && <h1>{error.message}</h1>}\r\n            {loading && <Loader />}\r\n            {films.length % 20 === 0 && !!films.length && (<Button text={'Load more'} type={'button'} onLoadMore={() => setPage(state => state + 1)} />)}\r\n            {top && <ButtonToTop toTop={toTop}/>}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default HomePage;"],"sourceRoot":""}